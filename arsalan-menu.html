<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Kolkata Arsalan Biryani | Khazaana</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
<link rel="apple-touch-icon" href="/favicon-180x180.png">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:"Segoe UI",sans-serif}
body{background:#fff7ed;color:#1f2937;padding-bottom:140px}

/* HEADER */
header{
  position:sticky;top:0;z-index:1000;
  background:#ffffffdd;backdrop-filter:blur(10px);
  box-shadow:0 6px 20px rgba(0,0,0,.08);
}
.nav{
  max-width:1200px;margin:auto;padding:16px 24px;
  display:flex;justify-content:space-between;align-items:center;
}
.logo{font-size:22px;font-weight:800;color:#ff7a00}
.nav a{text-decoration:none;margin-left:20px;color:#374151;font-weight:600}

/* HERO */
.hero{text-align:center;padding:50px 20px 30px}
.hero h1{font-size:34px;font-weight:800;color:#ff7a00}
.hero p{color:#6b7280;margin-top:6px}

/* MENU */
.menu{max-width:900px;margin:auto;padding:20px}
.section{
  background:#fff;border-radius:18px;padding:22px;
  margin-bottom:26px;box-shadow:0 12px 30px rgba(0,0,0,.08)
}
.section h2{color:#92400e;font-size:20px;margin-bottom:14px}
.item{
  display:flex;justify-content:space-between;align-items:center;
  padding:8px 0;border-bottom:1px dashed #e5e7eb
}
.item:last-child{border-bottom:none}
.controls{display:flex;align-items:center;gap:6px}
.btn{
  width:26px;height:26px;border:none;border-radius:6px;
  background:#92400e;color:#fff;font-weight:700;cursor:pointer
}
.qty{min-width:18px;text-align:center;font-weight:600}

/* CART BAR */
.cart-bar{
  position:fixed;bottom:0;left:0;width:100%;
  background:#fff;border-top:1px solid #e5e7eb;
  box-shadow:0 -8px 20px rgba(0,0,0,.1);
  padding:14px 20px;z-index:9999
}
.cart-info{font-size:14px;margin-bottom:8px}
.cart-info b{font-size:15px}
.order-btn{
  width:100%;padding:14px;border:none;border-radius:10px;
  background:#25D366;color:#fff;font-size:16px;
  font-weight:800;cursor:pointer
}
.note{font-size:12px;color:#6b7280;text-align:center;margin-top:6px}
</style>
</head>

<body>

<header>
  <div class="nav">
    <div class="logo">Khazaana</div>
    <div>
      <a href="index.html">Home</a>
      <a href="restaurants.html">Restaurants</a>
    </div>
  </div>
</header>

<section class="hero">
  <h1>Kolkata Arsalan Biryani</h1>
  <p>Biryani ‚Ä¢ Kolkata Style</p>
</section>

<section class="menu" id="menu"></section>

<!-- CART -->
<div class="cart-bar">
  <div class="cart-info">
    Subtotal: ‚Çπ<span id="subtotal">0</span> |
    Delivery: ‚Çπ30 |
    <b>Total: ‚Çπ<span id="total">0</span></b>
  </div>
  <button class="order-btn" onclick="goToCheckout()">Proceed to Checkout</button>
  <div class="note">Minimum order ‚Çπ100 (excluding delivery)</div>
</div>

<script>
const DELIVERY = 30;
const MIN_ORDER = 100;

/* üîî VIBRATION */
function vibrate(ms=30){
  if(navigator.vibrate) navigator.vibrate(ms);
}

const menuData = {
  "üçö Main Course ‚Äì Biryani": [
    ["Chicken Biryani (Full)",100],
    ["Chicken Biryani (Half)",80],
    ["Aloo Biryani (Full)",70],
    ["Aloo Biryani (Half)",50],
    ["Special Chicken Biryani",150],
    ["Chicken Extra Pieces",40],
    ["Aloo Extra Pieces",5]
  ]
};

const cart = {};

/* RENDER MENU */
function renderMenu(){
  const menu = document.getElementById("menu");
  for(const section in menuData){
    let html = `<div class="section"><h2>${section}</h2>`;
    menuData[section].forEach(([name,price],i)=>{
      const id = section.replace(/\W/g,'') + i;
      cart[id] = {name,price,qty:0};
      html += `
        <div class="item">
          <span>${name} ‚Çπ${price}</span>
          <div class="controls">
            <button class="btn" onclick="vibrate(20);updateQty('${id}',-1)">‚àí</button>
            <span class="qty" id="q-${id}">0</span>
            <button class="btn" onclick="vibrate(30);updateQty('${id}',1)">+</button>
          </div>
        </div>`;
    });
    html += `</div>`;
    menu.innerHTML += html;
  }
}
renderMenu();

/* CART LOGIC */
function updateQty(id,change){
  cart[id].qty = Math.max(0, cart[id].qty + change);
  document.getElementById("q-"+id).innerText = cart[id].qty;
  updateTotals();
}

function updateTotals(){
  let subtotal = 0;
  for(const i in cart){
    subtotal += cart[i].qty * cart[i].price;
  }
  document.getElementById("subtotal").innerText = subtotal;
  document.getElementById("total").innerText =
    subtotal > 0 ? subtotal + DELIVERY : 0;
}

/* CHECKOUT */
function goToCheckout(){
  let subtotal = 0;
  let items = [];

  for(const i in cart){
    if(cart[i].qty > 0){
      const t = cart[i].qty * cart[i].price;
      subtotal += t;
      items.push({
        name: cart[i].name,
        qty: cart[i].qty,
        price: cart[i].price,
        total: t
      });
    }
  }

  if(subtotal < MIN_ORDER){
    alert("Minimum order ‚Çπ100 required");
    return;
  }

  const orderData = {
    restaurant: "Kolkata Arsalan Biryani",
    items,
    subtotal,
    delivery: DELIVERY,
    total: subtotal + DELIVERY
  };

  localStorage.setItem("khazaanaOrder", JSON.stringify(orderData));
  window.location.href = "checkout.html";
}
</script>

</body>
</html>
